import"./index-HzPlS_0C.js";import{j as t}from"./jsx-runtime-u17CrQMm.js";import{A as V}from"./api-CH_Pe6Vg.js";import{B as ee,P as te}from"./index-DU4OXEBq.js";const K=r=>{const o=r.filter(i=>i.favorite===1),l=r.filter(i=>i.favorite!==1);return[...o,...l]},re=(r,o)=>{const l=[];return r.forEach(i=>{const c=`group-${i.id}`;l.push({kind:"group",id:c,groupId:i.id,label:i.label}),o.has(i.id)&&i.markets.forEach(f=>{l.push({kind:"option",id:`option-${f.id}`,groupId:i.id,marketId:f.id,label:f.label})})}),l},ne=(r,o)=>r.find(l=>l.markets.some(i=>i.id===o)),H=r=>r.flatMap(o=>o.markets),Q=({favorite:r})=>r!==1?null:t.jsx("span",{className:"text-[#ffdc00] text-base leading-none","aria-hidden":"true",children:"★"}),Y=({label:r,favorite:o,closeDate:l})=>t.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[t.jsx(Q,{favorite:o}),t.jsx("span",{children:r}),l?t.jsxs(t.Fragment,{children:[" ",t.jsxs("span",{className:"text-[#9aa5c0] text-sm font-semibold",children:["(",l,")"]})]}):null]}),se=({selectedMarket:r,isOpen:o,onToggle:l,onClose:i,toggleRef:c})=>t.jsxs("button",{type:"button",className:"flex w-full items-center justify-between rounded-xl border border-white/10 bg-white/20 px-3 py-2.5 text-left font-semibold text-[#e8ecf5] shadow-[0_16px_32px_rgba(0,0,0,0.35)] focus:outline-none focus-visible:ring-2 focus-visible:ring-[#e63946] focus-visible:ring-offset-2 focus-visible:ring-offset-transparent","aria-haspopup":"listbox","aria-expanded":o,onClick:l,onKeyDown:f=>{f.key==="Escape"&&i()},ref:c,children:[t.jsx(Y,{label:r?.label??"",favorite:r?.favorite,closeDate:r?.close_date}),t.jsx("span",{className:"ml-1 text-sm font-bold text-[#9aa5c0]","aria-hidden":"true",children:"▾"})]}),ae=({requestState:r})=>t.jsx("li",{children:t.jsx("span",{className:"flex w-full items-center justify-between gap-2 rounded-lg border border-transparent bg-white/10 px-2.5 py-2 text-left font-semibold text-[#e8ecf5]",children:r==="loading"?"Loading markets...":"No markets available"})}),oe=({group:r,isExpanded:o,headerId:l,onToggle:i,onKeyDown:c,setItemRef:f,isFocused:e,onFocus:p})=>t.jsxs("button",{type:"button",className:"flex w-full items-center justify-between rounded-lg bg-[#26356d] px-2.5 py-2 text-left font-bold text-[#e8ecf5] focus:outline-none focus-visible:ring-2 focus-visible:ring-[#e63946]","aria-expanded":o,"aria-controls":`${r.id}-options`,onClick:i,onKeyDown:d=>c(d,l),"data-kind":"group",tabIndex:e?0:-1,ref:d=>f(l,d),onFocus:p,children:[t.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[r.isFavorites?t.jsx(Q,{favorite:1}):null,t.jsx("span",{children:r.label})]}),t.jsx("span",{className:o?"text-sm font-bold text-[#9aa5c0]":"text-sm font-bold text-[#9aa5c0] -rotate-90","aria-hidden":"true",children:"▾"})]}),ie=({market:r,isActive:o,optionId:l,onSelect:i,onKeyDown:c,setItemRef:f,isFocused:e,onFocus:p})=>t.jsx("button",{type:"button",className:o?"flex w-full items-center justify-between gap-3 rounded-lg border border-[rgba(230,57,70,0.35)] bg-[rgba(230,57,70,0.14)] px-2.5 py-2 text-left font-semibold text-[#e8ecf5] transition hover:bg-[rgba(230,57,70,0.18)] focus:outline-none focus-visible:ring-2 focus-visible:ring-[#e63946]":"flex w-full items-center justify-between gap-3 rounded-lg border border-transparent bg-white/20 px-2.5 py-2 text-left font-semibold text-[#e8ecf5] transition hover:bg-white/10 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#e63946]",role:"option","aria-selected":o,onClick:()=>i(r.id),onKeyDown:d=>c(d,l),"data-kind":"option",tabIndex:e?0:-1,ref:d=>f(l,d),onFocus:p,children:t.jsx(Y,{label:r.label,favorite:r.favorite,closeDate:r.close_date})}),le=({group:r,selectedMarketId:o,onSelect:l,onKeyDown:i,setItemRef:c,focusedItemId:f,onFocusItem:e})=>t.jsx("ul",{className:"mt-1 flex list-none flex-col gap-1 pl-4 pr-1 pb-2",id:`${r.id}-options`,role:"group",children:r.markets.map(p=>{const d=`option-${p.id}`,y=p.id===o;return t.jsx("li",{children:t.jsx(ie,{market:p,isActive:y,optionId:d,onSelect:I=>l(I),onKeyDown:i,setItemRef:c,isFocused:f===d,onFocus:()=>e(d)})},d)})}),ce=({normalizedGroups:r,expandedGroupIds:o,focusedItemId:l,onToggleGroup:i,onKeyDown:c,setItemRef:f,onFocusItem:e,selectedMarketId:p,onSelect:d,requestState:y,dropdownStyle:I})=>t.jsx("ul",{className:"fixed z-10 mt-1 list-none rounded-xl border border-white/10 bg-[#0b111d] p-1 shadow-[0_16px_40px_rgba(0,0,0,0.35)] overflow-y-auto space-y-1",role:"listbox","aria-label":"Choose market",style:I,children:r.length===0?t.jsx(ae,{requestState:y}):r.map(w=>{const b=o.has(w.id),v=`group-${w.id}`;return t.jsxs("li",{className:"py-1",children:[t.jsx(oe,{group:w,isExpanded:b,headerId:v,onToggle:()=>i(w.id),onKeyDown:c,setItemRef:f,isFocused:l===v,onFocus:()=>e(v)}),b?t.jsx(le,{group:w,selectedMarketId:p,onSelect:R=>{d(R)},onKeyDown:c,setItemRef:f,focusedItemId:l,onFocusItem:e}):null]},w.id)})}),de=({groups:r,selectedMarketId:o,onSelect:l,requestState:i})=>{const c=React.useMemo(()=>r.map((n,x)=>({...n,id:`group-${x}-${n.label||"group"}`,markets:K(n.markets)})),[r]),f=React.useMemo(()=>{const n=H(c).filter(x=>x.favorite===1);return n.length===0?null:{id:"group-favorites",label:"Favorites",markets:K(n),isFavorites:!0}},[c]),e=React.useMemo(()=>f?[f,...c]:c,[c,f]),[p,d]=React.useState(!1),[y,I]=React.useState(new Set),[w,b]=React.useState(null),[v,R]=React.useState({}),S=React.useRef(null),_=React.useRef(null),P=React.useRef(new Map),g=React.useMemo(()=>H(e),[e]),M=React.useMemo(()=>g.length===0?{id:o,label:i==="loading"?"Loading markets...":"No markets available"}:g.find(n=>n.id===o)??g[0],[g,o,i]),N=React.useMemo(()=>re(e,y),[e,y]);React.useEffect(()=>{if(!p)return;const n=ne(e,o)??e[0];I(a=>{const u=n?new Set([n.id]):new Set;return a.size===u.size&&[...u].every(h=>a.has(h))?a:u});const x=n?.markets[0],s=n?.markets.find(a=>a.id===o)?.id??x?.id;b(s?`option-${s}`:null)},[e,p,o]),React.useEffect(()=>{const n=x=>{S.current&&!S.current.contains(x.target)&&d(!1)};return p&&document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n)},[p]),React.useEffect(()=>{if(!p||!w)return;P.current.get(w)?.focus()},[w,p]),React.useEffect(()=>{if(!p)return;const n=()=>{if(!_.current)return;const x=_.current.getBoundingClientRect(),s=window.innerHeight,a=window.innerWidth,u=12,m=Math.min(720,a-u*2),k=x.left+x.width/2-m/2,O=Math.min(Math.max(k,u),Math.max(u,a-m-u)),B=s-x.bottom-u,z=x.top-u,W=B<240&&z>B,Z=Math.max(140,Math.min(720,W?z:B));R({position:"fixed",width:`${m}px`,maxHeight:`${Z}px`,left:`${O}px`,transform:"none",top:W?void 0:`${x.bottom+8}px`,bottom:W?`${s-x.top+8}px`:void 0})};return n(),window.addEventListener("resize",n),window.addEventListener("scroll",n,{passive:!0}),()=>{window.removeEventListener("resize",n),window.removeEventListener("scroll",n)}},[p,e,o]);const j=n=>{I(x=>x.has(n)?new Set:new Set([n]))},E=n=>{if(N.length===0)return;const x=N.findIndex(m=>m.id===w),s=x===-1?0:x,a=Math.min(N.length-1,Math.max(0,s+n)),u=N[a];b(u?.id??null)},C=(n,x)=>{if(n.key==="ArrowDown"&&(n.preventDefault(),E(1)),n.key==="ArrowUp"&&(n.preventDefault(),E(-1)),n.key==="Escape"){n.preventDefault(),d(!1);return}const s=N.find(a=>a.id===x);s&&(s.kind==="group"&&(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),j(s.groupId)),s.kind==="option"&&(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),l(s.marketId),d(!1)))},$=(n,x)=>{P.current.set(n,x)},T=()=>d(!1),L=()=>d(n=>!n),A=n=>{l(n),T()};return t.jsxs("div",{className:"relative flex min-w-[220px] flex-col gap-1 text-[#e8ecf5]",ref:S,children:[t.jsx(se,{selectedMarket:M??null,isOpen:p,onToggle:L,onClose:T,toggleRef:_}),p?t.jsx(ce,{normalizedGroups:e,expandedGroupIds:y,focusedItemId:w,onToggleGroup:j,onKeyDown:C,setItemRef:$,onFocusItem:b,selectedMarketId:o,onSelect:A,requestState:i,dropdownStyle:v}):null]})},ue=r=>r.state?.status==="ACTIVE",fe=r=>r.state?.status==="LOSER",me=r=>r.state?.status==="WINNER",q=r=>{if(!r||r.length===0)return null;const[o]=r;return typeof o.price!="number"||typeof o.size!="number"?null:{price:o.price,size:o.size}},pe=(r,o,l,i)=>{const c=[],f=d=>typeof d!="number"?1:d<=0?0:1/d;if(typeof r=="number"&&r>0&&c.push({price:r,weight:f(l)}),typeof o=="number"&&o>0&&c.push({price:o,weight:f(i)}),c.length===0)return null;const e=c.reduce((d,y)=>d+y.weight,0);return e===0?null:1/(c.reduce((d,y)=>d+y.price*y.weight,0)/e)},X="* ",F="1.244214540",be=r=>{const o="https://ero.betfair.com/www/sports/exchange/readonly/v1/bymarket",l=[["rollupLimit","10"],["rollupModel","STAKE"],["currencyCode","GBP"],["locale","en_GB"]],i="MARKET_STATE,MARKET_DESCRIPTION,RUNNER_DESCRIPTION,RUNNER_EXCHANGE_PRICES_BEST,RUNNER_STATE",c=new URLSearchParams;return l.forEach(([f,e])=>c.append(f,e)),c.append("marketIds",r),c.append("types",i),`${o}?${c.toString()}`},xe=(r,o)=>{const l=r.eventTypes?.[0]?.eventNodes?.[0]?.marketNodes?.[0],i=l?{marketId:l.marketId,status:l.state.status,inplay:l.state.inplay,numberOfWinners:l.state.numberOfWinners,description:l.description,runners:l.runners}:void 0,c=i?.description?.marketName??"—",f=i?.runners??[],e=f.filter(ue),p=f.filter(fe),d=f.filter(me),y=g=>{const M=g.description?.runnerName??"Unknown runner",N=q(g.exchange?.availableToBack),j=q(g.exchange?.availableToLay),E=N?.price??(typeof g.state?.lastPriceTraded=="number"?g.state?.lastPriceTraded:null),C=j?.price??null,$=N?.size??null,T=j?.size??null,L=g.state?.status,A=L==="ACTIVE"||L==="LOSER"||L==="WINNER"?L:"UNKNOWN",n=A==="WINNER",x=n?X+M:M,s=n?1:pe(E,C,$,T),a=n?1:typeof C=="number"&&C>0?1/C:null,u=n?1:typeof E=="number"&&E>0?1/E:null;return{id:g.selectionId,name:x,status:A,bestBack:E,bestLay:C,impliedProbability:s,probabilityMin:a,probabilityMax:u}},w=[...[...e,...d].map(y)].sort((g,M)=>{const N=g.impliedProbability??0,j=M.impliedProbability??0;if(N!==j)return j-N;const E=g.bestBack??Number.POSITIVE_INFINITY,C=M.bestBack??Number.POSITIVE_INFINITY;return E!==C?E-C:0}),b=w.filter(g=>(g.impliedProbability??0)>=.01),v=b.reduce((g,M)=>g+(M.impliedProbability??0),0),R=Math.max(0,1-v),S=w.length-b.length,_={id:-1,name:S>0?`Others ${S}`:"Others",bestBack:null,bestLay:null,status:"AGGREGATE",impliedProbability:R,probabilityMin:R,probabilityMax:R},P=[...b,_].sort((g,M)=>{const N=g.impliedProbability??0,j=M.impliedProbability??0;return N!==j?j-N:0});return{marketId:i?.marketId??"unknown",marketName:c,runners:P,fetchedAt:o.toISOString(),status:i?.status??"UNKNOWN",inplay:!!i?.inplay,numberOfWinners:i?.numberOfWinners??1,activeRunnerCount:e.length,loserRunnerCount:p.length,winnerRunnerCount:d.length,totalRunners:e.length+p.length+d.length}},he={id:"valueLabel",afterDatasetsDraw(r,o,l){const i=r.config.type;if(i&&i!=="bar")return;const{ctx:c,data:f}=r,e=l?.color??"#e8ecf5";c.save();const p=r.getSortedVisibleDatasetMetas(),d=p[p.length-1];d&&(d.data.forEach((y,I)=>{const w=l?.impliedProbabilities?.[I],b=typeof w=="number"?w:f.datasets?.reduce((R,S)=>{const _=S?.data?.[I];return typeof _=="number"?R+_:R},0);if(typeof b!="number"||b<=0)return;const v=y.tooltipPosition(!0);v.x===null||v.y===null||(c.fillStyle=e,c.font='600 12px "Inter", system-ui, -apple-system, sans-serif',c.textBaseline="middle",c.textAlign="left",c.fillText(`${b.toFixed(1)}%`,v.x+6,v.y))}),c.restore())}};Chart.Chart.register(Chart.ArcElement,Chart.BarElement,Chart.CategoryScale,Chart.LinearScale,Chart.Legend,Chart.Title,Chart.Tooltip,he);const D=["#ba0034","#0293d9","#ff901a","#50469d","#eb9fa2","#87365c","#97d76f","#ed2fa4","#0b6109","#ffa1e4","#01dbc6"],U=()=>typeof window>"u"?F:new URLSearchParams(window.location.search).get("marketId")??F,G=r=>r===null||Number.isNaN(r)?"—":`${(r*100).toFixed(1)}%`,ge=()=>{const[r,o]=React.useState([]),[l,i]=React.useState("idle"),[c,f]=React.useState(null),[e,p]=React.useState(null),[d,y]=React.useState("idle"),[I,w]=React.useState(null),[b,v]=React.useState(()=>U()),R=React.useMemo(()=>r.flatMap(s=>s.markets),[r]),S=React.useCallback(s=>s&&R.some(a=>a.id===s)?s:R.length>0?R[0].id:F,[R]),_=React.useCallback(async()=>{i("loading"),f(null);try{const s=await fetch(`${V}/odds/`);if(!s.ok)throw new Error(`Market list request failed with status ${s.status}`);const a=await s.json(),u=Array.isArray(a)?a:a?.markets??[],m=u.flatMap(k=>k.markets),h=m.find(k=>k.id===U())?.id??m[0]?.id??F;o(u),v(k=>k===h?k:h),i("success")}catch(s){console.error("Failed to fetch market list",s),i("error"),f("Unable to load available markets. Please retry.")}},[V]),P=React.useCallback(async s=>{y("loading"),w(null);try{const a=await fetch(be(s),{mode:"cors"});if(!a.ok)throw new Error(`Request failed with status ${a.status}`);const u=await a.json(),m=xe(u,new Date);p(m),y("success")}catch(a){console.error("Failed to fetch market",a),y("error"),w("We could not load market prices. Please retry.")}},[]);React.useEffect(()=>{_()},[_]),React.useEffect(()=>{P(b)},[P,b]),React.useEffect(()=>{if(typeof window>"u")return;const s=new URLSearchParams(window.location.search),a=s.get("marketId");if(b&&a!==b){s.set("marketId",b);const u=`${window.location.pathname}?${s.toString()}${window.location.hash}`;window.history.replaceState({},"",u)}},[b]),React.useEffect(()=>{const s=()=>{const a=U(),u=S(a);v(m=>m===u?m:u)};return window.addEventListener("popstate",s),()=>window.removeEventListener("popstate",s)},[S]),React.useEffect(()=>{if(R.length===0)return;const s=S(b);s!==b&&v(s)},[R,S,b]);const g=React.useMemo(()=>`https://www.betfair.com/exchange/plus/politics/market/${b}`,[b]),M=React.useMemo(()=>e?new Date(e.fetchedAt).toLocaleString(void 0,{hour:"2-digit",minute:"2-digit",weekday:"short",month:"short",day:"numeric"}):null,[e]),N=React.useMemo(()=>{if(!e)return null;const s=e.runners.map(h=>h.name),a=e.runners.map((h,k)=>h.name.startsWith("Others")?"#9aa0ae":D[k%D.length]),u=e.runners.map(h=>Math.max(0,h.probabilityMin??0)*100),m=e.runners.map(h=>{const k=Math.max(0,h.probabilityMin??0),O=Math.max(k,h.probabilityMax??k);return Math.max(0,O-k)*100});return{labels:s,datasets:[{label:"Minimum probability (%)",data:u,backgroundColor:a,borderColor:a,borderWidth:1,borderSkipped:!1,stack:"probability"},{label:"Spread from min to max (%)",data:m,backgroundColor:"#ffffff",borderColor:"#ffffff",borderWidth:1,borderRadius:{topRight:3,bottomRight:3,topLeft:0,bottomLeft:0},borderSkipped:!1,stack:"probability"}]}},[e]),j=React.useMemo(()=>{if(!e)return null;const s=e.runners.map(m=>(m.impliedProbability??0)*100),a=e.runners.reduce((m,h)=>{const k=(h.probabilityMax??0)*100;return k>m?k:m},0),u=Math.max(5,a);return{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,animation:!1,transitions:{active:{animation:{duration:0}},resize:{animation:{duration:0}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label(m){const h=e.runners[m.dataIndex],k=G(h.probabilityMin),O=G(h.probabilityMax);return`${h.name} — ${k} to ${O}`}}},valueLabel:{color:"#e8ecf5",impliedProbabilities:s}},scales:{x:{stacked:!0,grid:{color:"rgba(232, 236, 245, 0.50)"},ticks:{color:"#e8ecf5",callback:m=>`${m}%`},suggestedMax:u},y:{stacked:!0,grid:{display:!1},ticks:{color:m=>{const h=m.tick?.label;if(typeof h=="string"){if(h.startsWith(X))return"#ff3b30";if(h.startsWith("Others"))return"#9aa0ae"}return"#e8ecf5"},autoSkip:!1}}}}},[e]),E=React.useMemo(()=>{if(!e)return null;const s=e.runners.map(u=>u.name),a=e.runners.map((u,m)=>u.name.startsWith("Others")?"#9aa0ae":D[m%D.length]);return{labels:s,datasets:[{label:"Implied probability",data:e.runners.map(u=>(u.impliedProbability??0)*100),backgroundColor:a,borderWidth:0}]}},[e]),C=React.useMemo(()=>e?{animation:!1,transitions:{active:{animation:{duration:0}},resize:{animation:{duration:0}}},plugins:{legend:{display:!1},tooltip:{callbacks:{label(s){const a=e.runners[s.dataIndex];return`${a.name}: ${G(a.impliedProbability)}`}}}}}:null,[e]),$=React.useMemo(()=>e?Math.max(320,e.runners.length*34):320,[e]),T=React.useMemo(()=>{if(!e)return"bar-empty";const s=e.runners.map(a=>a.id).join("-");return`${e.marketId}-${s}-${e.fetchedAt}`},[e]),L=React.useMemo(()=>{if(!e)return null;const s=e.runners.filter(m=>m.status==="ACTIVE"&&!m.name.startsWith("Others")).length,a=Math.max(0,e.activeRunnerCount-s),u=e.numberOfWinners-e.winnerRunnerCount;return[`${e.activeRunnerCount} still active`,a>0?` (${s} displayed + ${a} others below 1%)`:"",e.winnerRunnerCount>0?` + ${e.winnerRunnerCount} already won`:"",e.loserRunnerCount>0?` + ${e.loserRunnerCount} already lost`:"",e.winnerRunnerCount+e.loserRunnerCount>0?` = ${e.totalRunners} starters`:"",u>1?` ; ${u} winning spots left`:""].join("")},[e]),A=d==="loading"&&!e,n=e?.runners.length===0,x=e?.inplay??!1;return t.jsx("div",{className:"min-h-screen bg-[radial-gradient(circle_at_20%_-10%,rgba(230,57,70,0.18),transparent_35%),radial-gradient(circle_at_80%_20%,rgba(118,174,255,0.12),transparent_40%),#060910] px-[clamp(1.25rem,4vw,2.5rem)] py-[clamp(1.25rem,4vw,2.5rem)] font-sans text-[#e8ecf5]",style:{colorScheme:"dark"},children:t.jsxs("div",{className:"mx-auto flex max-w-[1200px] flex-col gap-6",children:[t.jsx("header",{className:"rounded-[24px] border border-white/10 bg-[linear-gradient(120deg,rgba(14,20,34,0.85),rgba(14,20,34,0.65))] p-[clamp(1.25rem,3vw,2rem)] shadow-[0_20px_60px_rgba(0,0,0,0.35)]",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"Odds"}),e?.status!=="OPEN"&&t.jsx("div",{className:"my-3 inline-flex items-center gap-1 rounded-full border border-[rgba(230,57,70,0.45)] bg-[rgba(230,57,70,0.15)] px-3 py-1 text-sm font-semibold text-[#e8ecf5]","aria-label":"Market status",children:e?.status??"Unknown"}),x&&t.jsx("div",{className:"my-3 inline-flex items-center justify-center rounded-full border border-[#ffd447] bg-[#ffd447] px-3 py-1 text-sm font-semibold text-[#0e1422] shadow-[0_0_0_0_rgba(255,212,71,0.45)] animate-pulse","aria-label":"Market live",children:"LIVE"}),t.jsx("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-[#9aa5c0]","aria-live":"polite",children:M?t.jsxs("span",{className:"text-sm",children:["Updated ",M]}):t.jsx("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-sm font-semibold text-[#e8ecf5]",children:"Fetching market..."})}),t.jsxs("div",{className:"mt-4 flex flex-col items-start gap-3",children:[t.jsx(de,{groups:r,selectedMarketId:b,onSelect:v,requestState:l}),t.jsx("a",{className:"text-sm font-semibold text-[#9aa5c0] underline decoration-slate-500 underline-offset-4 hover:text-[#e8ecf5]",href:g,target:"_blank",rel:"noreferrer noopener",children:"Original data"}),L&&t.jsx("div",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-3 py-1 text-sm font-semibold text-[#e8ecf5]","aria-label":"Total runners",children:L})]})]})}),c&&t.jsxs("div",{className:"flex flex-col gap-4 rounded-[14px] border border-[rgba(230,57,70,0.5)] bg-[rgba(230,57,70,0.1)] px-4 py-3 text-left shadow-[0_20px_60px_rgba(0,0,0,0.35)] md:flex-row md:items-center md:justify-between",role:"alert","aria-live":"assertive",children:[t.jsxs("div",{children:[t.jsx("p",{className:"m-0 text-lg font-bold text-[#e8ecf5]",children:"Market list unavailable"}),t.jsx("p",{className:"m-0 mt-1 text-sm text-[#9aa5c0]",children:c})]}),t.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-lg border border-white/15 bg-white/5 px-3 py-2 font-semibold text-[#e8ecf5] hover:border-white/30",onClick:()=>{_()},children:"Retry"})]}),I&&t.jsxs("div",{className:"flex flex-col gap-4 rounded-[14px] border border-[rgba(230,57,70,0.5)] bg-[rgba(230,57,70,0.1)] px-4 py-3 text-left shadow-[0_20px_60px_rgba(0,0,0,0.35)] md:flex-row md:items-center md:justify-between",role:"alert","aria-live":"assertive",children:[t.jsxs("div",{children:[t.jsx("p",{className:"m-0 text-lg font-bold text-[#e8ecf5]",children:"Price fetch failed"}),t.jsx("p",{className:"m-0 mt-1 text-sm text-[#9aa5c0]",children:I})]}),t.jsx("button",{type:"button",className:"inline-flex items-center justify-center rounded-lg border border-white/15 bg-white/5 px-3 py-2 font-semibold text-[#e8ecf5] hover:border-white/30",onClick:()=>{P(b)},children:"Retry"})]}),t.jsx("section",{className:"grid grid-cols-1 gap-4",children:t.jsxs("div",{className:"w-full rounded-2xl border border-white/10 bg-[#0e1422] p-5 shadow-[0_20px_60px_rgba(0,0,0,0.35)]",children:[t.jsx("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:t.jsx("div",{children:t.jsx("h2",{className:"text-xl font-semibold",children:"Probability"})})}),A&&t.jsx("div",{className:"mt-3 flex flex-col gap-2","aria-hidden":"true",children:Array.from({length:5}).map((s,a)=>t.jsx("div",{className:"h-4 rounded-md bg-white/10 animate-pulse"},a))}),!A&&e&&!n&&t.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:[t.jsx("div",{className:"w-full rounded-[14px] border border-white/10 bg-white/5 p-3 text-[#e8ecf5] shadow-inner","aria-label":"Horizontal bar chart of implied probabilities",children:N&&t.jsx("div",{className:"w-full",role:"img","aria-label":"Implied probability bar chart",style:{height:`${$}px`},children:j&&t.jsx(ee,{data:N,options:j},T)})}),t.jsx("div",{className:"w-full rounded-[14px] border border-white/10 bg-white/5 p-3 text-[#e8ecf5] shadow-inner","aria-label":"Pie chart of implied probabilities",children:E&&t.jsx("div",{className:"w-full min-h-[260px]",role:"img","aria-label":"Implied probability pie chart",children:C&&t.jsx(te,{data:E,options:C})})})]}),!A&&n&&t.jsx("p",{className:"mt-3 text-[#9aa5c0]",role:"status",children:"No runners available right now."})]})})]})})},J=document.getElementById("root");if(!J)throw new Error("Root element #root not found");document.body.classList.add("odds-page");ReactDOM.createRoot(J).render(t.jsx(React.StrictMode,{children:t.jsx(ge,{})}));
