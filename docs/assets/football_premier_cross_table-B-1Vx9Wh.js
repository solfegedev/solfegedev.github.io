import"./index-BYbaoTDx.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{A as m}from"./api-CH_Pe6Vg.js";const h=()=>{const[a,l]=React.useState(null),[n,c]=React.useState(!0),[d,o]=React.useState(null);React.useEffect(()=>{(async()=>{try{const t=await fetch(`${m}/football/cross-table`);if(!t.ok)throw new Error("Failed to fetch cross table data");const s=await t.json();l(s)}catch(t){o(t instanceof Error?t.message:"Unknown error")}finally{c(!1)}})()},[]);const i=(r,t)=>{if(a)return a.matches.find(s=>s.home_team_id===r&&s.away_team_id===t)},b=r=>{const t=new Date(r),s=t.getDate(),x=t.toLocaleString("en-GB",{month:"short"});return`${s} ${x}`};return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8 font-sans",children:e.jsxs("div",{className:"mx-auto max-w-[90%]",children:[e.jsx("header",{className:"mb-8",children:e.jsx("h1",{className:"text-3xl font-bold border-b-4 border-purple-600 pb-2 inline-block text-gray-800",children:"Premier League Cross Table"})}),n?e.jsx("div",{className:"flex py-20 items-center justify-center bg-white rounded-xl shadow-sm border border-gray-100",children:e.jsx("div",{className:"text-xl font-semibold text-gray-600 animate-pulse",children:"Loading cross table..."})}):d?e.jsx("div",{className:"flex py-20 items-center justify-center bg-white rounded-xl shadow-sm border border-red-100",children:e.jsxs("div",{className:"text-xl font-semibold text-red-600 text-center",children:[e.jsx("p",{children:"Error loading data"}),e.jsx("p",{className:"text-sm font-normal mt-2",children:d})]})}):!a||a.teams.length===0?e.jsx("div",{className:"flex py-20 items-center justify-center bg-white rounded-xl shadow-sm border border-gray-100",children:e.jsx("div",{className:"text-xl font-semibold text-gray-600",children:"No data available."})}):e.jsx("div",{className:"w-full overflow-x-auto rounded-xl bg-white shadow-sm border border-gray-100",children:e.jsxs("table",{className:"min-w-full border-collapse text-[10px] md:text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"sticky left-0 z-20 bg-gray-100 border-b border-r border-gray-200 p-2 text-gray-700 font-bold text-left min-w-[100px] md:min-w-[150px]",children:"Home \\ Away"}),a.teams.map(r=>e.jsx("th",{className:"bg-gray-50 border-b border-gray-200 p-2 text-gray-600 font-bold text-center min-w-[40px] md:min-w-[60px]",title:r.name,children:r.icon_url?e.jsx("img",{src:r.icon_url,alt:r.name,className:"w-6 h-6 mx-auto object-contain"}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden md:inline",children:r.name.substring(0,3).toUpperCase()}),e.jsx("span",{className:"md:hidden",children:r.name.substring(0,2).toUpperCase()})]})},r.id)),e.jsx("th",{className:"bg-blue-50 border-b border-gray-200 p-2 text-blue-700 font-bold text-center min-w-[30px]",children:"P"}),e.jsx("th",{className:"bg-blue-50 border-b border-gray-200 p-2 text-blue-700 font-bold text-center min-w-[30px]",children:"W"}),e.jsx("th",{className:"bg-blue-50 border-b border-gray-200 p-2 text-blue-700 font-bold text-center min-w-[30px]",children:"D"}),e.jsx("th",{className:"bg-blue-50 border-b border-gray-200 p-2 text-blue-700 font-bold text-center min-w-[30px]",children:"L"}),e.jsx("th",{className:"bg-blue-50 border-b border-gray-200 p-2 text-blue-700 font-bold text-center min-w-[30px]",children:"F"}),e.jsx("th",{className:"bg-blue-50 border-b border-gray-200 p-2 text-blue-700 font-bold text-center min-w-[30px]",children:"A"}),e.jsx("th",{className:"bg-blue-50 border-b border-gray-200 p-2 text-blue-700 font-bold text-center min-w-[35px]",children:"GD"}),e.jsx("th",{className:"bg-blue-600 border-b border-blue-700 p-2 text-white font-bold text-center min-w-[35px]",children:"Pts"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:a.teams.map(r=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("th",{className:"sticky left-0 z-10 bg-gray-50 border-r border-gray-200 p-2 text-gray-700 font-semibold text-left whitespace-nowrap shadow-[2px_0_5px_rgba(0,0,0,0.05)]",children:e.jsxs("div",{className:"flex items-center justify-between gap-2 min-w-[100px] md:min-w-[150px]",children:[e.jsx("span",{children:r.name}),r.icon_url&&e.jsx("img",{src:r.icon_url,alt:"",className:"w-5 h-5 object-contain"})]})}),a.teams.map(t=>{if(r.id===t.id)return e.jsx("td",{className:"bg-gray-200 border-r border-gray-100"},t.id);const s=i(r.id,t.id);return e.jsx("td",{className:"border-r border-gray-100 p-1 md:p-2 text-center align-middle h-10 md:h-12",children:s?s.home_score!==null&&s.away_score!==null?e.jsxs("div",{className:"font-bold text-lg text-blue-700",children:[s.home_score,e.jsx("span",{className:"text-gray-400 mx-0.5",children:"-"}),s.away_score]}):e.jsx("div",{className:"text-xs text-gray-600 leading-tight",children:b(s.kickoff)}):e.jsx("span",{className:"text-gray-300",children:"-"})},t.id)}),e.jsx("td",{className:"bg-blue-50/30 border-r border-gray-100 p-1 md:p-2 text-center",children:r.played}),e.jsx("td",{className:"bg-blue-50/30 border-r border-gray-100 p-1 md:p-2 text-center",children:r.won}),e.jsx("td",{className:"bg-blue-50/30 border-r border-gray-100 p-1 md:p-2 text-center",children:r.drawn}),e.jsx("td",{className:"bg-blue-50/30 border-r border-gray-100 p-1 md:p-2 text-center",children:r.lost}),e.jsx("td",{className:"bg-blue-50/30 border-r border-gray-100 p-1 md:p-2 text-center",children:r.goals_for}),e.jsx("td",{className:"bg-blue-50/30 border-r border-gray-100 p-1 md:p-2 text-center",children:r.goals_against}),e.jsx("td",{className:"bg-blue-50/30 border-r border-gray-100 p-1 md:p-2 text-center font-medium",children:r.goal_difference>0?`+${r.goal_difference}`:r.goal_difference}),e.jsx("td",{className:"bg-blue-100 border-r border-gray-100 p-1 md:p-2 text-center font-bold text-blue-800",children:r.points})]},r.id))})]})}),e.jsxs("div",{className:"mt-8 text-sm text-gray-500 bg-white p-4 rounded-lg border border-gray-100 shadow-sm inline-block",children:[e.jsx("h3",{className:"font-bold text-gray-700 mb-2 text-base",children:"Guide:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:["Find the ",e.jsx("span",{className:"font-semibold text-gray-800",children:"Home Team"})," in the left column"]}),e.jsxs("li",{children:["Find the ",e.jsx("span",{className:"font-semibold text-gray-800",children:"Away Team"})," in the top header"]}),e.jsxs("li",{children:["The intersection shows the ",e.jsx("span",{className:"italic",children:"Home Score - Away Score"})," or the scheduled date"]})]})]})]})})};ReactDOM.createRoot(document.getElementById("root")).render(e.jsx(React.StrictMode,{children:e.jsx(h,{})}));
