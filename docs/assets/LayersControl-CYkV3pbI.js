import{g as h,h as k,i as R,b as x,e as i,j as v,L as E}from"./TileLayer-B6Dhyqsh.js";const b=R(function({children:a,...e},t){const n=new L.Control.Layers(void 0,void 0,e);return x(n,i(t,{layersControl:n}))},function(a,e,t){e.collapsed!==t.collapsed&&(e.collapsed===!0?a.collapse():a.expand())}),O=k(b),y=h(O);function C(r){return function(e){const t=v(),n=React.useRef(e),[s,u]=React.useState(null),{layersControl:c,map:o}=t,d=React.useCallback(l=>{c!=null&&(n.current.checked&&o.addLayer(l),r(c,l,n.current.name),u(l))},[r,c,o]),f=React.useCallback(l=>{c?.removeLayer(l),u(null)},[c]),m=React.useMemo(()=>i(t,{layerContainer:{addLayer:d,removeLayer:f}}),[t,d,f]);return React.useEffect(()=>{s!==null&&n.current!==e&&(e.checked===!0&&(n.current.checked==null||n.current.checked===!1)?o.addLayer(s):n.current.checked===!0&&(e.checked==null||e.checked===!1)&&o.removeLayer(s),n.current=e)}),e.children?React.createElement(E,{value:m},e.children):null}}y.BaseLayer=C(function(a,e,t){a.addBaseLayer(e,t)});y.Overlay=C(function(a,e,t){a.addOverlay(e,t)});export{y as L};
