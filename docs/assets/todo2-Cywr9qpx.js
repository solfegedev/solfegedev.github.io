import"./index-CBYLtEE8.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import"./polyfills-BumHK8My.js";import{A as T}from"./api-CH_Pe6Vg.js";import{X as C}from"./x-BS-d4QNZ.js";import{P as D,A as P}from"./Auth-uEj7rJlD.js";import{T as z}from"./trash-2-DQbJ9aIh.js";import{D as q,U}from"./upload--Rbr-3Yq.js";import{C as M}from"./circle-check-F4iM422t.js";import{c as S}from"./createLucideIcon-DtX1aPOG.js";import{P as F}from"./pen-vQk8amFZ.js";import{L}from"./log-out-B0TqtotO.js";import{F as B}from"./funnel-BDdIBe_Y.js";import{C as J}from"./chevron-down-3_LVzg6l.js";import{S as H}from"./settings-G074OJw9.js";import"./button-D6DGr86I.js";import"./clsx-B-dksMZM.js";import"./eye-Jn_UhOO1.js";const Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_=S("circle",Y);const K=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],V=S("menu",K);const W=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],G=S("square-check-big",W),k="todo2_token",d={getToken:()=>localStorage.getItem(k),setToken:t=>localStorage.setItem(k,t),removeToken:()=>localStorage.removeItem(k),async request(t,s={}){const r=this.getToken(),l=new Headers(s.headers);r&&l.set("Authorization",`Bearer ${r}`),!(s.body instanceof FormData)&&!l.has("Content-Type")&&l.set("Content-Type","application/json");const n=await fetch(`${T}/todo2${t}`,{...s,headers:l});if(n.status===204)return{};if(!n.ok){n.status===401&&this.removeToken();const x=await n.json().catch(()=>({detail:"Unknown error"}));throw new Error(x.detail||"Request failed")}return n.json()},auth:{login:t=>d.request("/auth/login",{method:"POST",body:JSON.stringify(t)}).then(s=>(d.setToken(s.access_token),s)),logout:()=>(d.removeToken(),Promise.resolve()),me:()=>d.request("/auth/me")},categories:{list:()=>d.request("/categories"),create:(t,s)=>d.request("/categories",{method:"POST",body:JSON.stringify({name:t,color:s})}),update:(t,s,r)=>d.request(`/categories/${t}`,{method:"PUT",body:JSON.stringify({name:s,color:r})}),delete:t=>d.request(`/categories/${t}`,{method:"DELETE"})},tasks:{list:(t,s)=>{const r=new URLSearchParams;t&&r.set("category_id",t.toString()),s&&r.set("sort_by",s);const l=r.toString();return d.request(`/tasks${l?`?${l}`:""}`)},create:t=>d.request("/tasks",{method:"POST",body:JSON.stringify(t)}),update:(t,s)=>d.request(`/tasks/${t}`,{method:"PUT",body:JSON.stringify(s)}),delete:t=>d.request(`/tasks/${t}`,{method:"DELETE"})},data:{export:async()=>{const t=d.getToken(),s=await fetch(`${T}/todo2/export`,{headers:{Authorization:`Bearer ${t}`}});if(!s.ok)throw new Error("Export failed");return s.blob()},import:t=>d.request("/import",{method:"POST",body:t,headers:{"Content-Type":"application/x-yaml"}})}},R=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1","#14b8a6","#f97316","#06b6d4"],X=({categories:t,onClose:s,onCreate:r,onDelete:l})=>{const[n,x]=React.useState(""),[u,g]=React.useState(R[0]),h=i=>{i.preventDefault(),n.trim()&&(r(n.trim(),u),x(""))};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/50 p-0 backdrop-blur-sm md:items-center md:p-4",children:e.jsxs("div",{className:"flex h-[80vh] w-full flex-col overflow-hidden rounded-t-2xl bg-white shadow-2xl md:h-auto md:max-w-md md:rounded-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-5",children:[e.jsx("h2",{className:"text-xl font-extrabold text-gray-900",children:"Categories"}),e.jsx("button",{onClick:s,className:"rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:e.jsx(C,{size:24})})]}),e.jsxs("div",{className:"flex-1 space-y-8 overflow-y-auto p-6",children:[e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold tracking-wider text-gray-400 uppercase",children:"Add New Category"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{autoFocus:!0,className:"flex-1 rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-sm font-medium transition-all outline-none focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-50",placeholder:"Work, Personal, etc...",value:n,onChange:i=>x(i.target.value)}),e.jsx("button",{type:"submit",disabled:!n.trim(),className:"flex items-center justify-center rounded-xl bg-blue-600 px-5 text-white shadow-lg shadow-blue-200 transition-all hover:bg-blue-700 active:scale-95 disabled:opacity-50 disabled:shadow-none",children:e.jsx(D,{size:20})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-bold tracking-wider text-gray-400 uppercase",children:"Select Color"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:R.map(i=>e.jsx("button",{type:"button",onClick:()=>g(i),className:`h-8 w-8 rounded-full border-2 transition-all ${u===i?"scale-110 border-gray-900 shadow-md":"border-transparent hover:scale-105"}`,style:{backgroundColor:i}},i))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"text-[10px] font-bold tracking-wider text-gray-400 uppercase",children:"Current Categories"}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[[...t].sort((i,f)=>i.name.localeCompare(f.name)).map(i=>e.jsxs("div",{className:"group flex items-center justify-between rounded-xl border border-gray-100 bg-gray-50/50 p-4 transition-all hover:border-blue-100 hover:bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-3 w-3 rounded-full shadow-sm",style:{backgroundColor:i.color}}),e.jsx("span",{className:"font-bold text-gray-700",children:i.name})]}),e.jsx("button",{onClick:()=>{confirm(`Delete category "${i.name}" and all its tasks?`)&&l(i.id)},className:"rounded-xl p-2.5 text-gray-300 transition-colors hover:bg-red-50 hover:text-red-500 active:scale-90",children:e.jsx(z,{size:18})})]},i.id)),t.length===0&&e.jsx("div",{className:"py-12 text-center",children:e.jsx("p",{className:"text-sm font-medium text-gray-400",children:"No custom categories yet."})})]})]})]}),e.jsx("div",{className:"border-t border-gray-100 bg-gray-50 p-6 pb-8 md:pb-6",children:e.jsx("button",{onClick:s,className:"w-full rounded-xl border border-gray-200 bg-white px-4 py-4 text-sm font-bold text-gray-700 shadow-sm transition-all active:scale-95 active:bg-gray-50",children:"Done"})})]})})},Q=({onExport:t,onImport:s})=>{const r=React.useRef(null),l=n=>{const x=n.target.files?.[0];if(x){const u=new FileReader;u.onload=g=>{const h=g.target?.result;s(h),r.current&&(r.current.value="")},u.readAsText(x)}};return e.jsxs("div",{className:"space-y-2 border-t border-gray-200 p-4 text-gray-600",children:[e.jsx("div",{className:"mb-2 text-xs font-semibold tracking-wider text-gray-500 uppercase",children:"Data Management"}),e.jsxs("button",{onClick:t,className:"flex w-full items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium transition-colors hover:bg-gray-50",children:[e.jsx(q,{size:16}),"Export YAML"]}),e.jsxs("button",{onClick:()=>r.current?.click(),className:"flex w-full items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2 text-sm font-medium transition-colors hover:bg-gray-50",children:[e.jsx(U,{size:16}),"Import YAML"]}),e.jsx("input",{type:"file",ref:r,className:"hidden",accept:".yml,.yaml",onChange:l})]})},Z=({onSuccess:t})=>e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 p-4",children:e.jsx(P,{appName:"Todo2",loginEndpoint:"/todo2/auth/login",onSuccess:(s,r)=>t(s,r),className:"w-full max-w-md"})}),ee=({task:t,categories:s,categoryId:r,onSave:l,onClose:n})=>{const[x,u]=React.useState(t?.title||""),[g,h]=React.useState(t?.description||""),[i,f]=React.useState(t?.category_id||r||s[0]?.id),[p,a]=React.useState(t?.start_date?t.start_date.split("T")[0]:""),[m,j]=React.useState(t?.due_date?t.due_date.split("T")[0]:""),[w,b]=React.useState(t?.is_completed||!1),N=c=>{c.preventDefault(),l({title:x,description:g||null,category_id:i,is_completed:w,start_date:p?new Date(p).toISOString():null,due_date:m?new Date(m).toISOString():null})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/50 p-0 backdrop-blur-sm md:items-center md:p-4",children:e.jsxs("div",{className:"flex h-[92vh] w-full flex-col overflow-hidden rounded-t-2xl bg-white shadow-2xl md:h-auto md:max-w-md md:rounded-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-5",children:[e.jsx("h2",{className:"text-xl font-extrabold text-gray-900",children:t?"Edit Task":"New Task"}),e.jsx("button",{onClick:n,className:"rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:e.jsx(C,{size:24})})]}),e.jsx("form",{onSubmit:N,className:"flex-1 space-y-6 overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1.5 block text-xs font-bold tracking-wider text-gray-400 uppercase",children:"Title"}),e.jsx("input",{autoFocus:!0,required:!0,className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-sm font-medium transition-all outline-none focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-50",value:x,onChange:c=>u(c.target.value),placeholder:"What needs to be done?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1.5 block text-xs font-bold tracking-wider text-gray-400 uppercase",children:"Description"}),e.jsx("textarea",{className:"min-h-[120px] w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-sm font-medium transition-all outline-none focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-50",value:g,onChange:c=>h(c.target.value),placeholder:"Add some details..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1.5 block text-xs font-bold tracking-wider text-gray-400 uppercase",children:"Category"}),e.jsx("select",{className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-sm font-medium transition-all outline-none focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-50",value:i,onChange:c=>f(Number(c.target.value)),children:s.map(c=>e.jsx("option",{value:c.id,children:c.name},c.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-1.5 block text-xs font-bold tracking-wider text-gray-400 uppercase",children:"Start Date"}),e.jsx("input",{type:"date",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-sm font-medium transition-all outline-none focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-50",value:p,onChange:c=>a(c.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"mb-1.5 block text-xs font-bold tracking-wider text-gray-400 uppercase",children:"Due Date"}),e.jsx("input",{type:"date",className:"w-full rounded-xl border border-gray-200 bg-gray-50 px-4 py-3 text-sm font-medium transition-all outline-none focus:border-blue-500 focus:bg-white focus:ring-4 focus:ring-blue-50",value:m,onChange:c=>j(c.target.value)})]})]}),t&&e.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-gray-100 bg-gray-50 p-4 transition-colors active:bg-blue-50",onClick:()=>b(!w),children:[e.jsx("input",{type:"checkbox",id:"isCompleted",className:"h-5 w-5 rounded-md border-gray-300 text-blue-600 focus:ring-blue-500",checked:w,onChange:c=>b(c.target.checked),onClick:c=>c.stopPropagation()}),e.jsx("label",{htmlFor:"isCompleted",className:"text-sm font-bold text-gray-700 select-none",children:"Mark as completed"})]})]})}),e.jsxs("div",{className:"flex gap-3 border-t border-gray-100 bg-gray-50 p-6 pb-8 md:pb-6",children:[e.jsx("button",{type:"button",onClick:n,className:"flex-1 rounded-xl border border-gray-200 bg-white px-4 py-4 text-sm font-bold text-gray-700 shadow-sm transition-all active:scale-95 active:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",onClick:c=>{c.preventDefault(),N(c)},className:"flex-1 rounded-xl bg-blue-600 px-4 py-4 text-sm font-bold text-white shadow-xl shadow-blue-200 transition-all active:scale-95 active:bg-blue-700",children:t?"Update Task":"Create Task"})]})]})})},te=({tasks:t,categories:s,sortBy:r,onSort:l,onToggleStatus:n,onEdit:x,onDelete:u})=>{const g=a=>s.find(m=>m.id===a)?.name||"Unknown",h=a=>s.find(m=>m.id===a)?.color||"#3b82f6",i=({label:a,field:m})=>e.jsx("th",{onClick:()=>l(m),className:"cursor-pointer bg-gray-50 px-4 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase transition-colors hover:bg-gray-100 md:px-6",children:e.jsxs("div",{className:"flex items-center gap-1",children:[a,r===m&&e.jsx("span",{className:"text-[10px] text-blue-500",children:"â–¼"})]})}),f=a=>a?new Date(a).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"-",p=a=>{if(!a)return!1;const m=new Date;return m.setHours(0,0,0,0),new Date(a)<m};return e.jsx("div",{className:"flex-1 overflow-x-auto bg-gray-50/50",children:e.jsxs("div",{className:"inline-block min-w-full align-middle",children:[e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"sticky top-0 z-10 bg-gray-50 shadow-sm",children:e.jsxs("tr",{children:[e.jsx(i,{label:"Status",field:"status"}),e.jsx(i,{label:"Title",field:"title"}),e.jsx(i,{label:"Start Date",field:"start_date"}),e.jsx(i,{label:"Due Date",field:"due_date"}),e.jsx(i,{label:"Category",field:"category"}),e.jsx("th",{className:"bg-gray-50 px-4 py-3 text-right text-xs font-medium tracking-wider text-gray-500 uppercase md:px-6",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:t.map(a=>e.jsxs("tr",{className:`transition-colors hover:bg-gray-50 ${a.is_completed?"bg-gray-50/50":""}`,children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap md:px-6",children:e.jsx("button",{onClick:()=>n(a),className:`transition-colors ${a.is_completed?"text-green-500":"text-gray-300 hover:text-blue-500"}`,children:a.is_completed?e.jsx(M,{size:20}):e.jsx(_,{size:20})})}),e.jsxs("td",{className:`px-4 py-4 text-sm font-medium whitespace-nowrap md:px-6 ${a.is_completed?"font-normal text-gray-400 line-through":"text-gray-900"}`,children:[e.jsx("div",{className:"max-w-[150px] truncate md:max-w-xs",children:a.title}),a.description&&e.jsx("p",{className:"mt-1 max-w-[150px] truncate text-xs font-normal text-gray-500 md:max-w-xs",children:a.description})]}),e.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap text-gray-500 md:px-6",children:f(a.start_date)}),e.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap text-gray-500 md:px-6",children:e.jsx("span",{className:!a.is_completed&&p(a.due_date)?"font-semibold text-red-500":"",children:f(a.due_date)})}),e.jsx("td",{className:"px-4 py-4 text-sm whitespace-nowrap md:px-6",children:e.jsx("span",{className:"inline-flex rounded-full px-2.5 py-0.5 text-xs font-bold ring-1 ring-inset",style:{backgroundColor:`${h(a.category_id)}15`,color:h(a.category_id),borderColor:`${h(a.category_id)}30`},children:g(a.category_id)})}),e.jsx("td",{className:"px-4 py-4 text-right text-sm font-medium whitespace-nowrap md:px-6",children:e.jsxs("div",{className:"flex justify-end gap-3 text-gray-400",children:[e.jsx("button",{onClick:()=>x(a),className:"transition-colors hover:text-blue-600",children:e.jsx(F,{size:18})}),e.jsx("button",{onClick:()=>{confirm("Delete task?")&&u(a.id)},className:"transition-colors hover:text-red-600",children:e.jsx(z,{size:18})})]})})]},a.id))})]}),t.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center px-6 py-20 text-center text-gray-500",children:[e.jsx("div",{className:"mb-4 rounded-full bg-gray-100 p-4",children:e.jsx(_,{size:48,className:"opacity-20"})}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:"No tasks found"}),e.jsx("p",{className:"mt-1 text-sm",children:'Tap the "Add Task" button to get started.'})]})]})})},se=({user:t,onLogout:s,navbar:r,sidebar:l,children:n})=>{const[x,u]=React.useState(!1);return e.jsxs("div",{className:"flex h-screen flex-col overflow-hidden bg-gray-50",children:[e.jsxs("header",{className:"z-30 flex min-h-[4rem] shrink-0 items-center justify-between border-b border-gray-200 bg-white px-4 py-2 shadow-sm md:h-16 md:px-6 md:py-0",children:[e.jsx("div",{className:"flex flex-1 items-center justify-between",children:r}),l&&e.jsx("button",{onClick:()=>u(!0),className:"ml-4 rounded-xl p-2 text-gray-500 transition-colors hover:bg-gray-100 md:hidden",children:e.jsx(V,{size:24})})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[e.jsx("main",{className:"flex flex-1 flex-col overflow-hidden",children:n}),l&&e.jsxs(e.Fragment,{children:[x&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm md:hidden",onClick:()=>u(!1)}),e.jsxs("aside",{className:`fixed inset-y-0 right-0 z-50 flex w-72 flex-col border-l border-gray-200 bg-white transition-transform duration-300 md:static md:w-64 md:translate-x-0 ${x?"translate-x-0":"translate-x-full md:hidden"}`,children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 p-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Settings"}),e.jsx("button",{onClick:()=>u(!1),className:"rounded-lg p-2 text-gray-500 hover:bg-gray-100 md:hidden",children:e.jsx(C,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",onClick:()=>u(!1),children:l}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex min-w-0 flex-col",children:[e.jsx("span",{className:"truncate text-sm font-semibold text-gray-900",children:t.name}),e.jsx("span",{className:"truncate text-xs text-gray-500",children:t.email})]}),e.jsx("button",{onClick:s,className:"flex-shrink-0 rounded-lg p-2 text-gray-400 transition-colors hover:bg-red-50 hover:text-red-600",title:"Logout",children:e.jsx(L,{size:20})})]})})]})]})]})]})},ae=()=>{const[t,s]=React.useState(null),[r,l]=React.useState(!0);return React.useEffect(()=>{d.auth.me().then(s).catch(()=>s(null)).finally(()=>l(!1))},[]),{user:t,setUser:s,loading:r}},re=t=>{const[s,r]=React.useState([]),[l,n]=React.useState(!1),x=()=>{t&&(n(!0),d.categories.list().then(r).catch(()=>r([])).finally(()=>n(!1)))};return React.useEffect(()=>{x()},[t]),{categories:s,loading:l,refetch:x}},le=(t,s,r)=>{const[l,n]=React.useState([]),[x,u]=React.useState(!1),g=()=>{t&&(u(!0),d.tasks.list(s,r).then(n).catch(()=>n([])).finally(()=>u(!1)))};return React.useEffect(()=>{g()},[t,s,r]),{tasks:l,loading:x,refetch:g}},oe=()=>{const{user:t,setUser:s,loading:r}=ae(),[l,n]=React.useState(),[x,u]=React.useState("created_at"),[g,h]=React.useState(!1),[i,f]=React.useState(!1),[p,a]=React.useState(null),{categories:m,refetch:j}=re(t),{tasks:w,refetch:b}=le(t,l,x);if(r)return e.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 px-6 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-blue-600 border-t-transparent shadow-lg shadow-blue-100"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Loading your tasks..."})]})});if(!t)return e.jsx(Z,{onSuccess:o=>{d.setToken(o.access_token),s(o.user)}});const N=()=>{d.auth.logout().then(()=>s(null))},c=o=>{d.tasks.create(o).then(()=>{b(),h(!1)})},E=o=>{p&&d.tasks.update(p.id,o).then(()=>{b(),a(null)})},O=o=>{d.tasks.update(o.id,{is_completed:!o.is_completed}).then(b)},$=async()=>{try{const o=await d.data.export(),y=window.URL.createObjectURL(o),v=document.createElement("a");v.href=y,v.download="todo2_export.yml",document.body.appendChild(v),v.click(),window.URL.revokeObjectURL(y),document.body.removeChild(v)}catch{alert("Failed to export data")}},I=o=>{d.data.import(o).then(()=>{j(),b()}).catch(y=>alert("Import failed: "+y.message))},A=(l?m.find(o=>o.id===l):null)?.name||"All Tasks";return e.jsxs(se,{user:t,onLogout:N,navbar:e.jsxs("div",{className:"flex w-full flex-wrap items-center justify-between gap-y-3 md:flex-nowrap md:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-blue-600 text-white shadow-lg shadow-blue-200",children:e.jsx(G,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-lg font-extrabold tracking-tight text-gray-900 md:text-xl",children:"Todo2"}),e.jsx("span",{className:"text-[10px] font-bold tracking-wider text-gray-400 uppercase",children:A})]})]}),e.jsxs("div",{className:"flex w-full items-center justify-between gap-2 md:w-auto md:flex-1 md:justify-end md:gap-4",children:[e.jsxs("div",{className:"relative flex flex-1 items-center md:flex-none",children:[e.jsx("div",{className:"pointer-events-none absolute left-3 z-10 text-gray-400 md:hidden",children:e.jsx(B,{size:14})}),e.jsxs("select",{className:"h-10 w-full cursor-pointer appearance-none rounded-xl border border-gray-200 bg-gray-50 pr-10 pl-9 text-sm font-bold text-gray-700 transition-all hover:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-50 md:w-auto md:pl-4",value:l||"",onChange:o=>n(o.target.value?Number(o.target.value):void 0),children:[e.jsx("option",{value:"",children:"All Tasks"}),[...m].sort((o,y)=>o.name.localeCompare(y.name)).map(o=>e.jsx("option",{value:o.id,children:o.name},o.id))]}),e.jsx(J,{size:16,className:"pointer-events-none absolute right-3 text-gray-400"})]}),e.jsxs("button",{onClick:()=>f(!0),className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gray-100 text-gray-600 transition-all hover:bg-gray-200 md:w-auto md:gap-2 md:px-4",title:"Manage Categories",children:[e.jsx(H,{size:20}),e.jsx("span",{className:"hidden text-sm font-bold md:block",children:"Settings"})]}),e.jsxs("div",{className:"hidden h-10 items-center gap-3 border-l border-gray-200 pl-4 md:flex",children:[e.jsxs("div",{className:"flex flex-col text-right",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900",children:t.first_name}),e.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:"Pro User"})]}),e.jsx("button",{onClick:N,className:"flex h-10 w-10 items-center justify-center rounded-xl text-gray-400 transition-colors hover:bg-red-50 hover:text-red-500",title:"Logout",children:e.jsx(L,{size:20})})]})]})]}),sidebar:e.jsx("div",{className:"flex flex-col gap-6 p-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"px-2 text-[10px] font-bold tracking-wider text-gray-400 uppercase",children:"Data Management"}),e.jsx(Q,{onExport:$,onImport:I})]})}),children:[e.jsxs("div",{className:"relative flex h-full flex-col overflow-hidden",children:[e.jsx(te,{tasks:w,categories:m,sortBy:x,onSort:u,onToggleStatus:O,onEdit:a,onDelete:o=>d.tasks.delete(o).then(b)}),e.jsx("div",{className:"fixed right-8 bottom-8 z-30",children:e.jsx("button",{onClick:()=>h(!0),className:"flex h-14 w-14 items-center justify-center rounded-2xl bg-blue-600 text-white shadow-2xl shadow-blue-300 transition-all hover:scale-105 hover:bg-blue-700 active:scale-95",children:e.jsx(D,{size:28})})})]}),(g||p)&&e.jsx(ee,{task:p,categories:m,categoryId:l,onSave:p?E:c,onClose:()=>{h(!1),a(null)}}),i&&e.jsx(X,{categories:m,onClose:()=>f(!1),onCreate:(o,y)=>d.categories.create(o,y).then(j),onDelete:o=>d.categories.delete(o).then(()=>{j(),l===o&&n(void 0)})})]})};ReactDOM.createRoot(document.getElementById("root")).render(e.jsx(React.StrictMode,{children:e.jsx(oe,{})}));
