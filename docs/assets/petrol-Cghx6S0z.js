import"./modulepreload-polyfill-B5Qt9EMX.js";import{r as l,j as e,R as C,a as F}from"./client-BsyqJ1xH.js";import{B as P}from"./button-BZSrPANe.js";/* empty css              */const x={Hitchin:{lat:51.9666095,lng:-.2395976},Chesterfield:{lat:53.2352134,lng:-1.4264097}},R=()=>{const[o,g]=l.useState("57"),[c,N]=l.useState("127"),[p,b]=l.useState("137"),[n,v]=l.useState("Petrol"),[d,u]=l.useState(""),[a,m]=l.useState(null),f=s=>{s.preventDefault();const t=parseFloat(o),r=parseFloat(c),i=parseFloat(p);if(t<=0||r<0||i<0||Number.isNaN(t)||Number.isNaN(r)||Number.isNaN(i)){u("Please enter positive values for MPG and non-negative values for miles and cost."),m(null);return}const h=r/t*4.54609,w=h*i/100;u(""),m({cost:w,litres:h})},y=s=>{v(s.target.checked?"Diesel":"Petrol")},S=s=>{const t=x[s];if(!t)throw new Error(`Town ${s} is not configured in GPS_COORDS`);return`https://www.petrolprices.com/app/map?${new URLSearchParams([["fuelType",n==="Petrol"?"2":"5"],["brandType","0"],["resultLimit","0"],["offset","0"],["sortType","price"],["lat",t.lat.toString()],["lng",t.lng.toString()],["z","10"],["d","5"]]).toString()}`};return e.jsxs("div",{className:"petrol-page",children:[e.jsxs("header",{className:"petrol-hero",children:[e.jsx("h1",{children:"Fuel cost, visualized"}),e.jsx("p",{children:"Estimate a journey in a few taps, track how price changes impact your budget, and jump into live local station data when you are ready to fuel up."})]}),e.jsxs("div",{className:"petrol-layout",children:[e.jsxs("section",{className:"petrol-card petrol-form","aria-label":"Fuel calculator",children:[e.jsx("h2",{children:"Trip inputs"}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("label",{className:"input-group",htmlFor:"mpg",children:[e.jsx("span",{children:"Consumption (mpg UK)"}),e.jsx("input",{id:"mpg",type:"number",min:"0",step:"1",value:o,onChange:s=>g(s.target.value),required:!0})]}),e.jsxs("label",{className:"input-group",htmlFor:"miles",children:[e.jsx("span",{children:"Distance (miles)"}),e.jsx("input",{id:"miles",type:"number",min:"0",step:"1",value:c,onChange:s=>N(s.target.value),required:!0})]}),e.jsxs("label",{className:"input-group",htmlFor:"cost",children:[e.jsx("span",{children:"Cost per Litre (pence)"}),e.jsx("input",{id:"cost",type:"number",min:"0",step:"1",value:p,onChange:s=>b(s.target.value),required:!0})]}),e.jsxs("div",{className:"toggle-row",children:[e.jsx("div",{children:e.jsx("p",{className:"toggle-row__label",children:"Fuel type"})}),e.jsxs("label",{className:"switch-toggle",children:[e.jsx("input",{id:"fuel-type",type:"checkbox",checked:n==="Diesel",onChange:y,"aria-label":"Toggle fuel type between Petrol and Diesel"}),e.jsx("span",{className:"slider","aria-hidden":"true"})]}),e.jsx("span",{className:"switch-label",children:n})]}),e.jsx(P,{type:"submit",className:"petrol-cta",children:"Calculate cost"})]}),d&&e.jsx("div",{className:"result","aria-live":"polite",children:d})]}),e.jsxs("section",{className:"petrol-card petrol-summary","aria-label":"Summary metrics",children:[e.jsx("h2",{children:"Trip snapshot"}),e.jsxs("div",{className:"petrol-stats",children:[e.jsxs("div",{children:[e.jsx("p",{className:"label",children:"Cost"}),e.jsx("p",{className:"value",children:a?`£${a.cost.toFixed(2)}`:"—"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"label",children:"Quantity"}),e.jsx("p",{className:"value",children:a?`${a.litres.toFixed(1)} L`:"—"})]})]}),e.jsx("div",{className:"petrol-links","aria-label":"External price map links",children:Object.keys(x).map(s=>e.jsxs("a",{className:"petrol-link-card",href:S(s),target:"_blank",rel:"noopener noreferrer",children:[e.jsxs("div",{children:[e.jsx("p",{className:"label",children:"Live prices"}),e.jsx("p",{className:"value",children:s})]}),e.jsx("span",{children:"Open map →"})]},s))})]})]})]})},j=document.getElementById("root");if(!j)throw new Error("Root element #root not found");C.createRoot(j).render(e.jsx(F.StrictMode,{children:e.jsx(R,{})}));
