import"./modulepreload-polyfill-B5Qt9EMX.js";import{r as l,j as e,R as T,a as E}from"./client-BsyqJ1xH.js";import{B as R}from"./button-BZSrPANe.js";/* empty css              */const g={Hitchin:{lat:51.9666095,lng:-.2395976},Chesterfield:{lat:53.2352134,lng:-1.4264097},Royston:{lat:52.0472741,lng:-.0246467}},j="petrol:fuelType",k=()=>{try{const i=localStorage.getItem(j);if(i)return i}catch{}return"Petrol"},_=()=>{const[i,f]=l.useState("57"),[p,b]=l.useState("127"),[d,v]=l.useState("137"),[a,y]=l.useState(()=>k()),[u,m]=l.useState(""),[r,h]=l.useState(null);l.useEffect(()=>{try{localStorage.setItem(j,a)}catch{}},[a]);const S=s=>{s.preventDefault();const t=parseFloat(i),n=parseFloat(p),c=parseFloat(d);if(t<=0||n<0||c<0||Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(c)){m("Please enter positive values for MPG and non-negative values for miles and cost."),h(null);return}const x=c+.9,o=n/t*4.54609,C=o*x/100,w=o*x/n;m(""),h({cost:C,litres:o,costPerMilePence:w})},F=s=>{y(s.target.checked?"Diesel":"Petrol")},P=s=>{const t=g[s];if(!t)throw new Error(`Town ${s} is not configured in GPS_COORDS`);return`https://www.petrolprices.com/app/map?${new URLSearchParams([["fuelType",a==="Petrol"?"2":"5"],["brandType","0"],["resultLimit","0"],["offset","0"],["sortType","price"],["lat",t.lat.toString()],["lng",t.lng.toString()],["z","10"],["d","5"]]).toString()}`};return e.jsxs("div",{className:"petrol-page",children:[e.jsxs("header",{className:"petrol-hero",children:[e.jsx("h1",{children:"Fuel calculator"}),e.jsx("p",{children:"Estimate how much a trip costs"})]}),e.jsxs("div",{className:"petrol-layout",children:[e.jsxs("section",{className:"petrol-card petrol-form","aria-label":"Fuel calculator",children:[e.jsx("h2",{children:"Trip details"}),e.jsxs("form",{onSubmit:S,children:[e.jsxs("label",{className:"input-group",htmlFor:"mpg",children:[e.jsx("span",{children:"Consumption (mpg UK)"}),e.jsx("input",{id:"mpg",type:"number",min:"0",step:"1",value:i,onChange:s=>f(s.target.value),required:!0})]}),e.jsxs("label",{className:"input-group",htmlFor:"miles",children:[e.jsx("span",{children:"Distance (miles)"}),e.jsx("input",{id:"miles",type:"number",min:"0",step:"1",value:p,onChange:s=>b(s.target.value),required:!0})]}),e.jsxs("label",{className:"input-group",htmlFor:"cost",children:[e.jsx("span",{children:"Cost per Litre (pence)"}),e.jsxs("div",{className:"input-with-suffix",children:[e.jsx("input",{id:"cost",type:"number",min:"0",step:"1",value:d,onChange:s=>{v(s.target.value)},required:!0}),e.jsx("span",{className:"input-with-suffix__suffix","aria-hidden":"true","data-testid":"cost-suffix",children:".9"})]})]}),e.jsx(R,{type:"submit",className:"petrol-cta",children:"Calculate cost"})]}),u&&e.jsx("div",{className:"result","aria-live":"polite",children:u}),e.jsxs("div",{className:"petrol-result",children:[e.jsxs("div",{children:[e.jsx("p",{className:"label",children:"Cost"}),e.jsx("p",{className:"value",children:r?`£${r.cost.toFixed(2)}`:"—"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"label",children:"Quantity"}),e.jsx("p",{className:"value",children:r?`${r.litres.toFixed(1)} L`:"—"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"label",children:"Cost per mile"}),e.jsx("p",{className:"value",children:r?`${r.costPerMilePence.toFixed(1)} p`:"—"})]})]})]}),e.jsxs("section",{className:"petrol-card","aria-label":"price map links",children:[e.jsx("h2",{children:"Links"}),e.jsxs("div",{className:"toggle-row",children:[e.jsx("div",{children:e.jsx("p",{className:"toggle-row__label",children:"Fuel type"})}),e.jsxs("label",{className:"switch-toggle",children:[e.jsx("input",{id:"fuel-type",type:"checkbox",checked:a==="Diesel",onChange:F,"aria-label":"Toggle fuel type between Petrol and Diesel"}),e.jsx("span",{className:"slider","aria-hidden":"true"})]}),e.jsx("span",{className:"switch-label",children:a})]}),e.jsx("div",{className:"petrol-links","aria-label":"External price map links",children:Object.keys(g).map(s=>e.jsx("a",{className:"petrol-link-card",href:P(s),target:"_blank",rel:"noopener noreferrer",children:e.jsxs("div",{children:["Prices for ",a," in ",s]})},s))})]})]})]})},N=document.getElementById("root");if(!N)throw new Error("Root element #root not found");T.createRoot(N).render(e.jsx(E.StrictMode,{children:e.jsx(_,{})}));
