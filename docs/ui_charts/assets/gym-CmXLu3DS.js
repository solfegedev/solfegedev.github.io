import{j as e,c as m}from"./client-B8KsQLkO.js";import{C as d}from"./CookieConsentWrapper-DBLm3LwE.js";import f,{useState as g,useEffect as h}from"https://cdn.jsdelivr.net/npm/react@18.3.1/+esm";import{i as x}from"./all-BSES4dDh.js";import{B as c}from"./Badge-DhheJI_u.js";import"https://cdn.jsdelivr.net/npm/react-dom@18.3.1/+esm";import"https://cdn.jsdelivr.net/npm/vanilla-cookieconsent@3.0.1/+esm";import"./ThemeProvider-BXEn8Hk9.js";const p=()=>{const[s,r]=g();if(h(()=>{(async function(){const t=await S(5);r(t)})()},[]),!s)return e.jsx("main",{children:"Loading..."});const n=s.data.sort((t,o)=>t.events.dateStart>o.events.dateStart?1:-1),a=[];let i="";return n.forEach((t,o)=>{const l=t.events.dateStart.substring(0,10);l!==i&&a.push(e.jsx(u,{dateStr:l},`${o}-delimiter`)),i=l,a.push(e.jsx(j,{evt:t},o))}),e.jsxs("main",{children:[e.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold"},children:"JD Gyms Chesterfield"}),e.jsx("p",{style:{margin:"1rem"},children:e.jsx("a",{href:"https://www.jdgyms.co.uk/gym/chesterfield/#:~:text=TIMETABLE%20SUBJECT%20TO%20CHANGE",target:"_blank",children:"Official Calendar"})}),e.jsx("div",{style:{backgroundColor:"#fff",width:x?"45rem":"100vw",margin:"auto"},children:a})]})},u=({dateStr:s})=>{const r=new Date(s).toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"short",year:"numeric"});return e.jsx("div",{className:"x-delimiter",children:r})},j=({evt:s})=>{const r=new Date(s.events.dateStart).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),n={backgroundColor:"#ffa8a8"},a=s.events.name==="Spin"?e.jsx("i",{className:"fa-solid fa-person-biking",style:{marginRight:"0.5rem",color:"#0284c7"}}):s.events.name==="HIIT"?e.jsx("i",{className:"fa-solid fa-temperature-arrow-up",style:{marginRight:"0.5rem",color:"#dc2626"}}):s.events.name==="JD Burn"?e.jsx("i",{className:"fa-solid fa-fire",style:{marginRight:"0.5rem",color:"#f97316"}}):s.events.name==="Yoga"?e.jsx("i",{className:"fa-brands fa-y-combinator",style:{marginRight:"0.5rem",color:"#e879f9"}}):s.events.name==="Les Mills Body Balance"?e.jsx("i",{className:"fa-solid fa-scale-balanced",style:{marginRight:"0.5rem",color:"#047857"}}):s.events.name==="Les Mills Body Pump"?e.jsx("i",{className:"fa-solid fa-pump-soap",style:{marginRight:"0.5rem",color:"#1e3a8a"}}):s.events.name==="Body Conditioning"?e.jsx("i",{className:"fa-solid fa-dumbbell",style:{marginRight:"0.5rem",color:"#a8a29e"}}):s.events.name==="Abs"?e.jsx("i",{className:"fa-brands fa-angular",style:{marginRight:"0.5rem",color:"#fde047"}}):null,i=new Date,t=new Date(s.events.dateStart),l=new Date(t.getTime()+s.events.eventTime*6e4)<i?e.jsx(c,{bg:"secondary",children:"DONE"}):t<i?e.jsx(c,{bg:"warning",children:"ON"}):null;return e.jsxs("div",{style:{padding:"0.5rem 0"},children:[e.jsxs("div",{className:"x-flex-container",style:{fontWeight:"bold",color:"#1e293b"},children:[e.jsx("div",{className:"x-flex-left",children:r}),e.jsxs("div",{className:"x-flex-right",children:[e.jsxs("span",{style:{fontSize:"1.2rem"},children:[a,s.events.name]})," ","(",s.events.eventTime," min)"]})]}),e.jsxs("div",{className:"x-flex-container",children:[e.jsx("div",{className:"x-flex-left",children:l}),e.jsxs("div",{className:"x-flex-right x-caption",children:[e.jsx("b",{children:s.remainingPlaces})," places",s.remainingPlaces!==s.places&&` left (out of ${s.places} total)`," with"," ",e.jsx("em",{children:e.jsx("b",{children:s.staff.user.fullName})})," ","(",e.jsx("em",{children:s.location.name}),")"]})]}),s.costInc>0&&e.jsxs("p",{style:n,children:["price incl: £",s.costInc]}),s.costExc>0&&e.jsxs("p",{style:n,children:["price excl: £",s.costExc]}),!s.public&&e.jsx("p",{style:n,children:"private class"})]})},y=24*36e5,S=async s=>{const r="https://api.eu.membr.com/api/public/gyms/1548/bookings",n=new Date;n.setHours(5),n.setMinutes(0),n.setSeconds(0);const a=new Date(n.getTime()+s*y);a.setHours(23),console.log(`Get slots from ${n} to ${a}`);const i={page:"1",page_size:"100",from_date:n.toISOString(),to_date:a.toISOString(),locale:"en_GB"};return fetch(r+"?"+new URLSearchParams(i).toString()).then(t=>t.json()).then(t=>(console.log(t),t))};m.createRoot(document.getElementById("root")).render(e.jsx(f.StrictMode,{children:e.jsx(d,{children:e.jsx(p,{})})}));
