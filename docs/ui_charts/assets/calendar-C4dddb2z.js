import{j as t,c as m}from"./client-B8KsQLkO.js";import{C as x}from"./CookieConsentWrapper-BX3Mx7Xo.js";import h,{createContext as p,useContext as u,useEffect as w}from"https://cdn.jsdelivr.net/npm/react@18.3.1/+esm";import{D as g}from"./dates-CXaDObX2.js";import j from"https://cdn.jsdelivr.net/npm/moment@2.30.1/+esm";import"https://cdn.jsdelivr.net/npm/react-dom@18.3.1/+esm";import"https://cdn.jsdelivr.net/npm/vanilla-cookieconsent@3.0.1/+esm";const d={startDate:"2024-07-01",numWeeks:35,events:{"2024-07-08":"<< Wales","2024-07-15":"Wales >>","2024-08-06":"<< Paris","2024-08-13":"Paris >>","2024-09-06":"<< Dog","2024-09-08":"Dog >>","2024-09-22":"<< Maja Airport","2024-10-05":"Silvia London","2024-09-28":"Wanja London","2024-10-06":"Maja Airport >>","2024-10-15":"Bday","2024-12-21":"<< Ferry","2024-12-25":"BHOL: Xmas","2024-12-26":"BHOL: Boxing - Ferry >>","2025-01-01":"BHOL: New Year","2025-02-07":"Bday","2025-04-18":"BHOL: Easter","2025-04-21":"BHOL: Easter","2025-05-05":"BHOL","2025-05-26":"BHOL: Spring","2025-08-25":"BHOL: Summer"}},l=p(null),y=({children:e})=>{const s={today:new Date(new Date().toISOString().substring(0,10))};return t.jsx(l.Provider,{value:s,children:e})},f=({dt:e})=>{const s=u(l),n=e.getDate(),a=e.toISOString().substring(0,10),o="x-day"+(n===1&&e.getDay()!==1?" x-day-first":"")+(n<=7?" x-day-first-week":"")+([0,6].includes(e.getDay())?" x-weekend":"")+(e.getTime()===s.today.getTime()?" x-today":"")+(e.getTime()<s.today.getTime()?" x-past":"");return t.jsxs("div",{className:o,children:[t.jsx("div",{className:"x-day-number",children:n}),t.jsx("div",{className:"x-day-description","data-iso":a})]})},k=({row:e})=>t.jsxs("div",{className:"x-week",children:[e.days.map((s,n)=>t.jsx(f,{dt:s},n)),t.jsx("div",{className:"x-week-no",children:e.weekNo})]}),v=()=>{const e="Mon Tue Wed Thu Fri Sat Sun".split(" ");return t.jsxs("div",{className:"x-week",children:[e.map((s,n)=>t.jsx("div",{className:"x-day x-header",children:s},n)),t.jsx("div",{className:"x-week-no"})]})},N=({monthRow:e})=>t.jsxs("div",{style:{display:"flex"},children:[t.jsx("div",{className:"x-month-name",children:e.weekRows.length>0&&e.weekRows[0].days[0].toLocaleDateString(void 0,{month:"short"})}),t.jsx("div",{children:e.weekRows.length>0?e.weekRows.map((s,n)=>t.jsx(k,{row:s},n)):t.jsx(v,{})})]});function D(){const e=[],s=[];let n=new Date(d.startDate),a=n.getMonth();e.push({monthNo:-1,weekRows:[]});for(let o=0;o<d.numWeeks;o++){n.getMonth()!==a&&s.length>0&&(e.push({monthNo:a,weekRows:[...s]}),s.length=0,a=n.getMonth());const i={weekNo:j(n).isoWeek().toString().padStart(2,"0"),days:[]};for(let r=0;r<7;r++)i.days.push(n),n=new Date(n.getTime()+g);s.push(i)}return s.length&&(e.push({monthNo:a,weekRows:[...s]}),s.length=0),w(()=>{Object.entries(d.events).forEach(o=>{const[c,i]=o,r=document.querySelector(`[data-iso="${c}"]`);r&&(r.innerHTML=i,i.startsWith("BHOL")&&r.parentElement.classList.add("x-weekend"))})},[]),console.log(e),t.jsx("main",{children:t.jsx("div",{className:"x-container",children:e.map((o,c)=>t.jsx(N,{monthRow:o},c))})})}m.createRoot(document.getElementById("root")).render(t.jsx(h.StrictMode,{children:t.jsx(x,{children:t.jsx(y,{children:t.jsx(D,{})})})}));
