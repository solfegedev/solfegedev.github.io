import{j as t,c}from"./client-B8KsQLkO.js";import{C as l}from"./CookieConsentWrapper-DBLm3LwE.js";import d,{useState as m,useEffect as p}from"https://cdn.jsdelivr.net/npm/react@18.3.1/+esm";import{i as h}from"./all-BSES4dDh.js";import"https://cdn.jsdelivr.net/npm/react-dom@18.3.1/+esm";import"https://cdn.jsdelivr.net/npm/vanilla-cookieconsent@3.0.1/+esm";const f=()=>{const[e,s]=m();if(p(()=>{(async function(){const n=await u();s(n)})()},[]),!e)return t.jsx("main",{children:"Loading..."});const o=e.data.sort((n,r)=>n.events.dateStart>r.events.dateStart?1:-1);return t.jsxs("main",{children:[t.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold"},children:"JD Gyms Chesterfield"}),t.jsx("p",{style:{margin:"1rem"},children:t.jsx("a",{href:"https://www.jdgyms.co.uk/gym/chesterfield/",children:"Official Calendar"})}),t.jsx("div",{style:{backgroundColor:"#fff",width:h?"50vw":"100vw",margin:"auto"},children:o.map((n,r)=>t.jsx(g,{evt:n},r))})]})},g=({evt:e})=>{const s=new Date(e.events.dateStart).toLocaleDateString("en-GB",{hour:"2-digit",minute:"2-digit",weekday:"long",day:"numeric",month:"short"});return t.jsxs("div",{style:{borderStyle:"solid"},children:[t.jsxs("p",{children:[s," ",t.jsx("span",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:e.events.name})," (",e.events.eventTime,"m)"]}),t.jsxs("p",{children:[t.jsx("b",{children:e.remainingPlaces})," places",e.remainingPlaces!==e.places&&` left (out of ${e.places} total)`,","," ",e.location.name,", with ",e.staff.user.fullName]}),e.costInc>0&&t.jsxs("p",{children:["price incl: $",e.costInc]}),e.costExc>0&&t.jsxs("p",{children:["price excl: $",e.costExc]}),!e.public&&t.jsx("p",{children:"private class"})]})},a=36e5,u=async()=>{const e="https://api.eu.membr.com/api/public/gyms/1548/bookings",s=new Date,o=new Date(s.getTime()-a),n=new Date(o.getTime()+5*24*a),r={page:"1",page_size:"100",from_date:o.toISOString(),to_date:n.toISOString(),locale:"en_GB"};return fetch(e+"?"+new URLSearchParams(r).toString()).then(i=>i.json()).then(i=>(console.log(i),i))};c.createRoot(document.getElementById("root")).render(t.jsx(d.StrictMode,{children:t.jsx(l,{children:t.jsx(f,{})})}));
